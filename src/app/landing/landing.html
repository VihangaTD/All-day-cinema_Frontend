<div class="landing-container">
  <div class="bg"></div>
  <mat-toolbar class="topbar" color="transparent">
    <div class="logo">
      <mat-icon class="logo-icon">movie</mat-icon>
      <span class="logo-text">AllDayCinema</span>
    </div>

    <span class="spacer"></span>

    <button mat-flat-button class="signin-btn" (click)="login()">Sign In</button>
  </mat-toolbar>

  <section class="hero">
    <h1 class="hero-title">Unlimited Movies, Tv shows and more</h1>

    <p class="hero-caption">Ready to watch? Enter your email to get started!</p>

    <form [formGroup]="landingForm" class="cta" (ngSubmit)="getStarted()" novalidate>
      <mat-form-field appearance="outline" class="email-field">
        <mat-label>Email Address</mat-label>
        <input matInput formControlName="email" />
        <mat-icon matPrefix>email</mat-icon>

        @if (landingForm.get('email')?.hasError('required')) {
        <mat-error>Email is required</mat-error>
        } @else if (landingForm.get('email')?.hasError('email')) {
        <mat-error>Enter a valid email</mat-error>
        }
      </mat-form-field>

      <button mat-flat-button class="cta-btn" type="submit" [disabled]="!landingForm.valid">
        Get Started
        <mat-icon>arrow_forward</mat-icon>
      </button>
    </form>
  </section>
</div>

<section class="reasons-wrap">
  <h2 class="row-title">More reasons to join</h2>
  <div class="reason-grid">
    <mat-card class="reason-card" *ngFor="let r of reasons">
      <h3>{{ r.title }}</h3>
      <p>{{ r.text }}</p>

      <div class="badge">
        <mat-icon>{{ r.icon }}</mat-icon>
      </div>
    </mat-card>
  </div>
</section>

<section class="faq">
  <h2 class="faq-title">Frequently Asked Questions</h2>

  <mat-accordion class="faq-accordion" multi>
    @for (faq of faqs; track faq.question) {
    <mat-expansion-panel class="faq-item" [hideToggle]="true" #panel="matExpansionPanel">
      <mat-expansion-panel-header>
        <mat-panel-title class="question">
          {{ faq.question }}
        </mat-panel-title>

        <span class="spacer"></span>

        @if (!panel.expanded) {
        <mat-icon class="toggle-icon">add</mat-icon>
        } @else {
        <mat-icon class="toggle-icon">close</mat-icon>
        }
      </mat-expansion-panel-header>

      <div class="answer">
        {{ faq.answer }}
      </div>
    </mat-expansion-panel>
    }
  </mat-accordion>
</section>

<footer class="site-footer">
  <div class="footer-inner">
    <span>Â© {{ year }} AllDayCinema. All rights reserved</span>

    <nav class="footer-links">
      <a href="#">Help</a>
      <a href="#">Privacy</a>
      <a href="#">Terms</a>
    </nav>
  </div>
</footer>
